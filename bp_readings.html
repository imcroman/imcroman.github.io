<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>TASMIN5S - My BP history</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    
    	<script src="node_modules/chart.js/dist/Chart.bundle.js"></script>
	<script src="node_modules/chart.js/samples/utils.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>-->
	<style>
	canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
  </head>
  <body>

    <div class="container-fluid">
    <div class="col-xs-12" style="height:50px;"></div>
	<div class="row">
		<div class="col-md-4 col-md-offset-4 text-center">
                        <a href="index.html">
			<i class="fas fa-home fa-6x" ></i>
			<h3 class ="text-center">
				Home
			</h3>
			</a>
		</div>
		<div class="col-md-4">
			<h1 class="text-center">
				My BP Readings
			</h1>
		</div>
		<div class="col-md-2">
			 
			<button type="button" class="btn btn-md btn-block btn-secondary active">
				Help
			</button>
		</div>
            <div class="col-md-2">
            </div>
	</div>
	<div class="col-xs-12" style="height:120px;"></div>
	
	
	<div class="col-xs-12" style="height:50px;"></div>
	
	<div class="row">
            <div class="col-md-2">
            </div>
            <div class="col-md-8 col-md-offset-2 text-center">
                	<div style="width:75%;">
                            <canvas id="canvas"></canvas>
                        </div>
                        <br>
                        <br>
                        <button id="randomizeData">Randomize Data</button>
                        <!--<button id="addDataset">Add Dataset</button>
                      <button id="removeDataset">Remove Dataset</button>-->
                        <button id="addData">Add Data</button>
                        <button id="removeData">Remove Data</button>
            </div>
            <div class="col-md-2">
            </div>
	</div>

	<div class="col-xs-12" style="height:60px;"></div>
	
	<div class="row">
	<div class ="col-md-2">
	</div>
		<div class="col-md-8 col-md-offset-2 text-center">
			<h3>
				BP History
			</h3>
			<table class="table table-bordered">
				<thead>
					<tr>
						<th>
							#
						</th>
						<th>
							Message
						</th>
						<th>
							Date
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							0
						</td>
						<td>
							180/150
						</td>
						<td>
							01/04/2012
						</td>
					</tr>
					<tr class="table-active">
						<td>
							1
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							01/04/2012
						</td>
					</tr>
					<tr class="table-success">
						<td>
							2
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							02/04/2012
						</td>
					</tr>
					<tr class="table-warning">
						<td>
							3
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							03/04/2012
						</td>

					</tr>
					<tr class="table-danger">
						<td>
							4
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							04/04/2012
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/scripts.js"></script>
    
    <script>
		var randomScalingFactor = function() {
               //return Math.random() * 10.0) * Math.pow(10, Math.ceil(Math.random() * 5));
		return Math.random() * (200 - 60) + 60;
		};
		
                var MONTHS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                var config = {
			type: 'line',
			data: {
				labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
				datasets: [{
					label: 'SYSTOLIC',
					backgroundColor: window.chartColors.red,
					borderColor: window.chartColors.red,
					data: [
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor()
					],
					fill: false,
				}, {
					label: 'DIASTOLIC',
					fill: false,
					backgroundColor: window.chartColors.blue,
					borderColor: window.chartColors.blue,
					data: [
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor()
					],
				}]
			},
			options: {
				responsive: true,
				title: {
					display: false,
					text: 'Patient BP Reading History'
				},
				tooltips: {
					mode: 'index',
					intersect: false,
				},
				hover: {
					mode: 'nearest',
					intersect: true
				},
				scales: {
					xAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'Week Day'
						}
					}],
					yAxes: [{
						display: true,
						scaleLabel: {
							display: true,
							labelString: 'BP Readings'
						}
					}]
				}
			}
		};
		window.onload = function() {
			var ctx = document.getElementById('canvas').getContext('2d');
			window.myLine = new Chart(ctx, config);
		};
		document.getElementById('randomizeData').addEventListener('click', function() {
			config.data.datasets.forEach(function(dataset) {
				dataset.data = dataset.data.map(function() {
					return randomScalingFactor();
				});
			});
			window.myLine.update();
		});
		var colorNames = Object.keys(window.chartColors);
		/*
		document.getElementById('addDataset').addEventListener('click', function() {
			var colorName = colorNames[config.data.datasets.length % colorNames.length];
			var newColor = window.chartColors[colorName];
			var newDataset = {
				label: 'Dataset ' + config.data.datasets.length,
				backgroundColor: newColor,
				borderColor: newColor,
				data: [],
				fill: false
			};
			for (var index = 0; index < config.data.labels.length; ++index) {
				newDataset.data.push(randomScalingFactor());
			}
			config.data.datasets.push(newDataset);
			window.myLine.update();
		});
		*/
		document.getElementById('addData').addEventListener('click', function() {
			if (config.data.datasets.length > 0) {
				var month = MONTHS[config.data.labels.length % MONTHS.length];
				config.data.labels.push(month);
				config.data.datasets.forEach(function(dataset) {
					dataset.data.push(randomScalingFactor());
				});
				window.myLine.update();
			}
		});
		/*
		document.getElementById('removeDataset').addEventListener('click', function() {
			config.data.datasets.splice(0, 1);
			window.myLine.update();
		});
		*/
		document.getElementById('removeData').addEventListener('click', function() {
			config.data.labels.splice(-1, 1); // remove the label first
			config.data.datasets.forEach(function(dataset) {
				dataset.data.pop();
			});
			window.myLine.update();
		});
	</script>
    
    
  </body>
</html>